{"id":"package/template.js","dependencies":[{"name":"/Users/qiwenhao/github/some-record/template/package.json","includedInParent":true,"mtime":1591932076410}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.template3 = exports.template2 = exports.template1 = void 0;\n\nvar _this = void 0;\n\n// 将 %> 替换成 p.push('\n// 将 <% 替换成 ');\n// 将 <%=xxx%> 替换成 ');p.push(xxx);p.push('\n// var p = []; p.push('');\n// for ( var i = 0; i < users.length; i++ ) {\n//   p.push('<li><a href=\"');\n//   p.push(users[i].url);\n//   p.push('\">');\n//   p.push(users[i].name);\n//   p.push('</a></li>');\n// }\n// p.push('');\n// 压缩标签空格\nvar tagMin = function tagMin(str) {\n  return str.replace(/(>)(\\s+)(\\w*)(\\s+)(<)/g, '$1$3$5');\n}; // eval 解析字符串\n\n\nvar template1 = function template1(str, users) {\n  var p = [];\n\n  var _str = \"p.push('\" + str.replace(/[\\r\\t\\n]/g, \"\").replace(/<%=(.*?)%>/g, \"');p.push($1);p.push('\").replace(/<%/g, \"');\").replace(/%>/g, \"p.push('\") + \"');\"; // 执行代码\n\n\n  eval(_str);\n  return tagMin(p.join(''));\n}; // new Function 解析字符串\n\n\nexports.template1 = template1;\n\nvar template2 = function template2(str, data) {\n  var fn = new Function(\"users\", \"var p = []; p.push('\" + str.replace(/[\\r\\t\\n]/g, \"\").replace(/<%=(.*?)%>/g, \"');p.push($1);p.push('\").replace(/<%/g, \"');\").replace(/%>/g, \"p.push('\") + \"');return p.join('');\");\n  return tagMin(fn(data));\n}; // 数据改变 new Function 只调用一次\n\n\nexports.template2 = template2;\n\nvar template3 = function template3(str) {\n  var _str = tagMin(str);\n\n  var fn = new Function(\"users\", \"var p = []; p.push('\" + _str.replace(/[\\r\\t\\n]/g, \"\").replace(/<%=(.*?)%>/g, \"');p.push($1);p.push('\").replace(/<%/g, \"');\").replace(/%>/g, \"p.push('\") + \"');return p.join('');\");\n  return function (data) {\n    return fn.call(_this, data);\n  };\n};\n/**\n * \"var a = '1\\n23';console.log(a)\".toString() ?\n * 在 Function 构造函数的实现中，首先会将函数体代码字符串进行一次 ToString\n * 字符串表达式中是不允许换行的 !\n * var log = new Function(\"var a = '1\\n23';console.log(a)\");log()\n */\n// 防toSting\n\n\nexports.template3 = template3;\n\nvar escapeChar = function escapeChar(match) {\n  var escapes = {\n    \"'\": \"'\",\n    '\\\\': '\\\\',\n    '\\r': 'r',\n    '\\n': 'n',\n    \"\\u2028\": 'u2028',\n    // 行分隔符\n    \"\\u2029\": 'u2029' // 段落分隔符\n\n  };\n  return '\\\\' + escapes[match];\n};\n\nvar escapeRegExp = /\\\\|'|\\r|\\n|\\u2028|\\u2029/g;\n\nfunction replacer(match, p1, p2, p3, offset, string) {\n  // match，表示匹配的子串 abc12345#$*%\n  // p1，第 1 个括号匹配的字符串 abc\n  // p2，第 2 个括号匹配的字符串 12345\n  // p3，第 3 个括号匹配的字符串 #$*%\n  // offset，匹配到的子字符串在原字符串中的偏移量 0\n  // string，被匹配的原字符串 abc12345#$*%\n  return [p1, p2, p3].join(' - ');\n}\n\nvar newString = 'abc12345#$*%'.replace(/([^\\d]*)(\\d*)([^\\w]*)/, replacer); // abc - 12345 - #$*%"},"sourceMaps":{"js":{"mappings":[{"generated":{"line":10,"column":0},"source":"package/template.js","original":{"line":1,"column":0}},{"generated":{"line":11,"column":0},"source":"package/template.js","original":{"line":2,"column":0}},{"generated":{"line":12,"column":0},"source":"package/template.js","original":{"line":3,"column":0}},{"generated":{"line":13,"column":0},"source":"package/template.js","original":{"line":5,"column":0}},{"generated":{"line":14,"column":0},"source":"package/template.js","original":{"line":6,"column":0}},{"generated":{"line":15,"column":0},"source":"package/template.js","original":{"line":7,"column":0}},{"generated":{"line":16,"column":0},"source":"package/template.js","original":{"line":8,"column":0}},{"generated":{"line":17,"column":0},"source":"package/template.js","original":{"line":9,"column":0}},{"generated":{"line":18,"column":0},"source":"package/template.js","original":{"line":10,"column":0}},{"generated":{"line":19,"column":0},"source":"package/template.js","original":{"line":11,"column":0}},{"generated":{"line":20,"column":0},"source":"package/template.js","original":{"line":12,"column":0}},{"generated":{"line":21,"column":0},"source":"package/template.js","original":{"line":13,"column":0}},{"generated":{"line":22,"column":0},"source":"package/template.js","original":{"line":15,"column":0}},{"generated":{"line":23,"column":0},"source":"package/template.js","original":{"line":16,"column":0}},{"name":"tagMin","generated":{"line":23,"column":4},"source":"package/template.js","original":{"line":16,"column":6}},{"generated":{"line":23,"column":10},"source":"package/template.js","original":{"line":16,"column":12}},{"generated":{"line":23,"column":13},"source":"package/template.js","original":{"line":16,"column":15}},{"name":"tagMin","generated":{"line":23,"column":22},"source":"package/template.js","original":{"line":16,"column":6}},{"generated":{"line":23,"column":28},"source":"package/template.js","original":{"line":16,"column":15}},{"name":"str","generated":{"line":23,"column":29},"source":"package/template.js","original":{"line":16,"column":15}},{"generated":{"line":23,"column":32},"source":"package/template.js","original":{"line":16,"column":18}},{"generated":{"line":24,"column":0},"source":"package/template.js","original":{"line":16,"column":18}},{"name":"str","generated":{"line":24,"column":9},"source":"package/template.js","original":{"line":16,"column":22}},{"generated":{"line":24,"column":12},"source":"package/template.js","original":{"line":16,"column":25}},{"name":"replace","generated":{"line":24,"column":13},"source":"package/template.js","original":{"line":16,"column":26}},{"generated":{"line":24,"column":20},"source":"package/template.js","original":{"line":16,"column":22}},{"generated":{"line":24,"column":21},"source":"package/template.js","original":{"line":16,"column":34}},{"generated":{"line":24,"column":45},"source":"package/template.js","original":{"line":16,"column":22}},{"generated":{"line":24,"column":47},"source":"package/template.js","original":{"line":16,"column":60}},{"generated":{"line":24,"column":55},"source":"package/template.js","original":{"line":16,"column":22}},{"generated":{"line":24,"column":56},"source":"package/template.js","original":{"line":16,"column":18}},{"generated":{"line":25,"column":0},"source":"package/template.js","original":{"line":16,"column":18}},{"generated":{"line":25,"column":1},"source":"package/template.js","original":{"line":16,"column":0}},{"generated":{"line":25,"column":3},"source":"package/template.js","original":{"line":18,"column":0}},{"generated":{"line":28,"column":0},"source":"package/template.js","original":{"line":19,"column":0}},{"name":"template1","generated":{"line":28,"column":4},"source":"package/template.js","original":{"line":19,"column":6}},{"generated":{"line":28,"column":13},"source":"package/template.js","original":{"line":19,"column":15}},{"generated":{"line":28,"column":16},"source":"package/template.js","original":{"line":19,"column":18}},{"name":"template1","generated":{"line":28,"column":25},"source":"package/template.js","original":{"line":19,"column":6}},{"generated":{"line":28,"column":34},"source":"package/template.js","original":{"line":19,"column":18}},{"name":"str","generated":{"line":28,"column":35},"source":"package/template.js","original":{"line":19,"column":19}},{"generated":{"line":28,"column":38},"source":"package/template.js","original":{"line":19,"column":18}},{"name":"users","generated":{"line":28,"column":40},"source":"package/template.js","original":{"line":19,"column":24}},{"generated":{"line":28,"column":45},"source":"package/template.js","original":{"line":19,"column":18}},{"generated":{"line":28,"column":47},"source":"package/template.js","original":{"line":19,"column":34}},{"generated":{"line":29,"column":0},"source":"package/template.js","original":{"line":20,"column":2}},{"name":"p","generated":{"line":29,"column":6},"source":"package/template.js","original":{"line":20,"column":6}},{"generated":{"line":29,"column":7},"source":"package/template.js","original":{"line":20,"column":7}},{"generated":{"line":29,"column":10},"source":"package/template.js","original":{"line":20,"column":10}},{"generated":{"line":29,"column":12},"source":"package/template.js","original":{"line":20,"column":2}},{"generated":{"line":31,"column":0},"source":"package/template.js","original":{"line":21,"column":2}},{"name":"_str","generated":{"line":31,"column":6},"source":"package/template.js","original":{"line":21,"column":8}},{"generated":{"line":31,"column":10},"source":"package/template.js","original":{"line":21,"column":12}},{"generated":{"line":31,"column":13},"source":"package/template.js","original":{"line":21,"column":15}},{"name":"str","generated":{"line":31,"column":26},"source":"package/template.js","original":{"line":21,"column":28}},{"generated":{"line":31,"column":29},"source":"package/template.js","original":{"line":21,"column":31}},{"name":"replace","generated":{"line":31,"column":30},"source":"package/template.js","original":{"line":22,"column":9}},{"generated":{"line":31,"column":37},"source":"package/template.js","original":{"line":21,"column":28}},{"generated":{"line":31,"column":38},"source":"package/template.js","original":{"line":22,"column":17}},{"generated":{"line":31,"column":49},"source":"package/template.js","original":{"line":21,"column":28}},{"generated":{"line":31,"column":51},"source":"package/template.js","original":{"line":22,"column":30}},{"generated":{"line":31,"column":53},"source":"package/template.js","original":{"line":21,"column":28}},{"name":"replace","generated":{"line":31,"column":55},"source":"package/template.js","original":{"line":23,"column":9}},{"generated":{"line":31,"column":62},"source":"package/template.js","original":{"line":21,"column":28}},{"generated":{"line":31,"column":63},"source":"package/template.js","original":{"line":23,"column":17}},{"generated":{"line":31,"column":76},"source":"package/template.js","original":{"line":21,"column":28}},{"generated":{"line":31,"column":78},"source":"package/template.js","original":{"line":23,"column":32}},{"generated":{"line":31,"column":102},"source":"package/template.js","original":{"line":21,"column":28}},{"name":"replace","generated":{"line":31,"column":104},"source":"package/template.js","original":{"line":24,"column":9}},{"generated":{"line":31,"column":111},"source":"package/template.js","original":{"line":21,"column":28}},{"generated":{"line":31,"column":112},"source":"package/template.js","original":{"line":24,"column":17}},{"generated":{"line":31,"column":117},"source":"package/template.js","original":{"line":21,"column":28}},{"generated":{"line":31,"column":119},"source":"package/template.js","original":{"line":24,"column":24}},{"generated":{"line":31,"column":124},"source":"package/template.js","original":{"line":21,"column":28}},{"name":"replace","generated":{"line":31,"column":126},"source":"package/template.js","original":{"line":25,"column":9}},{"generated":{"line":31,"column":133},"source":"package/template.js","original":{"line":21,"column":28}},{"generated":{"line":31,"column":134},"source":"package/template.js","original":{"line":25,"column":17}},{"generated":{"line":31,"column":139},"source":"package/template.js","original":{"line":21,"column":28}},{"generated":{"line":31,"column":141},"source":"package/template.js","original":{"line":25,"column":23}},{"generated":{"line":31,"column":151},"source":"package/template.js","original":{"line":21,"column":28}},{"generated":{"line":31,"column":152},"source":"package/template.js","original":{"line":21,"column":15}},{"generated":{"line":31,"column":155},"source":"package/template.js","original":{"line":26,"column":11}},{"generated":{"line":31,"column":160},"source":"package/template.js","original":{"line":21,"column":2}},{"generated":{"line":31,"column":161},"source":"package/template.js","original":{"line":19,"column":34}},{"generated":{"line":31,"column":162},"source":"package/template.js","original":{"line":27,"column":2}},{"name":"eval","generated":{"line":34,"column":0},"source":"package/template.js","original":{"line":28,"column":2}},{"name":"eval","generated":{"line":34,"column":2},"source":"package/template.js","original":{"line":28,"column":2}},{"generated":{"line":34,"column":6},"source":"package/template.js","original":{"line":28,"column":6}},{"name":"_str","generated":{"line":34,"column":7},"source":"package/template.js","original":{"line":28,"column":7}},{"generated":{"line":34,"column":11},"source":"package/template.js","original":{"line":28,"column":6}},{"generated":{"line":34,"column":12},"source":"package/template.js","original":{"line":28,"column":2}},{"generated":{"line":35,"column":0},"source":"package/template.js","original":{"line":29,"column":2}},{"name":"tagMin","generated":{"line":35,"column":9},"source":"package/template.js","original":{"line":29,"column":9}},{"generated":{"line":35,"column":15},"source":"package/template.js","original":{"line":29,"column":15}},{"name":"p","generated":{"line":35,"column":16},"source":"package/template.js","original":{"line":29,"column":16}},{"generated":{"line":35,"column":17},"source":"package/template.js","original":{"line":29,"column":17}},{"name":"join","generated":{"line":35,"column":18},"source":"package/template.js","original":{"line":29,"column":18}},{"generated":{"line":35,"column":22},"source":"package/template.js","original":{"line":29,"column":16}},{"generated":{"line":35,"column":23},"source":"package/template.js","original":{"line":29,"column":23}},{"generated":{"line":35,"column":25},"source":"package/template.js","original":{"line":29,"column":16}},{"generated":{"line":35,"column":26},"source":"package/template.js","original":{"line":29,"column":15}},{"generated":{"line":35,"column":27},"source":"package/template.js","original":{"line":29,"column":2}},{"generated":{"line":36,"column":0},"source":"package/template.js","original":{"line":30,"column":1}},{"generated":{"line":36,"column":1},"source":"package/template.js","original":{"line":19,"column":0}},{"generated":{"line":36,"column":3},"source":"package/template.js","original":{"line":32,"column":0}},{"generated":{"line":41,"column":0},"source":"package/template.js","original":{"line":33,"column":0}},{"name":"template2","generated":{"line":41,"column":4},"source":"package/template.js","original":{"line":33,"column":6}},{"generated":{"line":41,"column":13},"source":"package/template.js","original":{"line":33,"column":15}},{"generated":{"line":41,"column":16},"source":"package/template.js","original":{"line":33,"column":18}},{"name":"template2","generated":{"line":41,"column":25},"source":"package/template.js","original":{"line":33,"column":6}},{"generated":{"line":41,"column":34},"source":"package/template.js","original":{"line":33,"column":18}},{"name":"str","generated":{"line":41,"column":35},"source":"package/template.js","original":{"line":33,"column":19}},{"generated":{"line":41,"column":38},"source":"package/template.js","original":{"line":33,"column":18}},{"name":"data","generated":{"line":41,"column":40},"source":"package/template.js","original":{"line":33,"column":24}},{"generated":{"line":41,"column":44},"source":"package/template.js","original":{"line":33,"column":18}},{"generated":{"line":41,"column":46},"source":"package/template.js","original":{"line":33,"column":33}},{"generated":{"line":42,"column":0},"source":"package/template.js","original":{"line":34,"column":2}},{"name":"fn","generated":{"line":42,"column":6},"source":"package/template.js","original":{"line":34,"column":8}},{"generated":{"line":42,"column":8},"source":"package/template.js","original":{"line":34,"column":10}},{"generated":{"line":42,"column":11},"source":"package/template.js","original":{"line":34,"column":13}},{"name":"Function","generated":{"line":42,"column":15},"source":"package/template.js","original":{"line":34,"column":17}},{"generated":{"line":42,"column":23},"source":"package/template.js","original":{"line":34,"column":13}},{"generated":{"line":42,"column":24},"source":"package/template.js","original":{"line":34,"column":26}},{"generated":{"line":42,"column":31},"source":"package/template.js","original":{"line":34,"column":13}},{"generated":{"line":42,"column":33},"source":"package/template.js","original":{"line":36,"column":4}},{"name":"str","generated":{"line":42,"column":58},"source":"package/template.js","original":{"line":38,"column":4}},{"generated":{"line":42,"column":61},"source":"package/template.js","original":{"line":38,"column":7}},{"name":"replace","generated":{"line":42,"column":62},"source":"package/template.js","original":{"line":39,"column":7}},{"generated":{"line":42,"column":69},"source":"package/template.js","original":{"line":38,"column":4}},{"generated":{"line":42,"column":70},"source":"package/template.js","original":{"line":39,"column":15}},{"generated":{"line":42,"column":81},"source":"package/template.js","original":{"line":38,"column":4}},{"generated":{"line":42,"column":83},"source":"package/template.js","original":{"line":39,"column":28}},{"generated":{"line":42,"column":85},"source":"package/template.js","original":{"line":38,"column":4}},{"name":"replace","generated":{"line":42,"column":87},"source":"package/template.js","original":{"line":40,"column":7}},{"generated":{"line":42,"column":94},"source":"package/template.js","original":{"line":38,"column":4}},{"generated":{"line":42,"column":95},"source":"package/template.js","original":{"line":40,"column":15}},{"generated":{"line":42,"column":108},"source":"package/template.js","original":{"line":38,"column":4}},{"generated":{"line":42,"column":110},"source":"package/template.js","original":{"line":40,"column":30}},{"generated":{"line":42,"column":134},"source":"package/template.js","original":{"line":38,"column":4}},{"name":"replace","generated":{"line":42,"column":136},"source":"package/template.js","original":{"line":41,"column":7}},{"generated":{"line":42,"column":143},"source":"package/template.js","original":{"line":38,"column":4}},{"generated":{"line":42,"column":144},"source":"package/template.js","original":{"line":41,"column":15}},{"generated":{"line":42,"column":149},"source":"package/template.js","original":{"line":38,"column":4}},{"generated":{"line":42,"column":151},"source":"package/template.js","original":{"line":41,"column":22}},{"generated":{"line":42,"column":156},"source":"package/template.js","original":{"line":38,"column":4}},{"name":"replace","generated":{"line":42,"column":158},"source":"package/template.js","original":{"line":42,"column":7}},{"generated":{"line":42,"column":165},"source":"package/template.js","original":{"line":38,"column":4}},{"generated":{"line":42,"column":166},"source":"package/template.js","original":{"line":42,"column":15}},{"generated":{"line":42,"column":171},"source":"package/template.js","original":{"line":38,"column":4}},{"generated":{"line":42,"column":173},"source":"package/template.js","original":{"line":42,"column":21}},{"generated":{"line":42,"column":183},"source":"package/template.js","original":{"line":38,"column":4}},{"generated":{"line":42,"column":184},"source":"package/template.js","original":{"line":36,"column":4}},{"generated":{"line":42,"column":187},"source":"package/template.js","original":{"line":43,"column":6}},{"generated":{"line":42,"column":210},"source":"package/template.js","original":{"line":34,"column":13}},{"generated":{"line":42,"column":211},"source":"package/template.js","original":{"line":34,"column":2}},{"generated":{"line":43,"column":0},"source":"package/template.js","original":{"line":44,"column":2}},{"name":"tagMin","generated":{"line":43,"column":9},"source":"package/template.js","original":{"line":44,"column":9}},{"generated":{"line":43,"column":15},"source":"package/template.js","original":{"line":44,"column":15}},{"name":"fn","generated":{"line":43,"column":16},"source":"package/template.js","original":{"line":44,"column":16}},{"generated":{"line":43,"column":18},"source":"package/template.js","original":{"line":44,"column":18}},{"name":"data","generated":{"line":43,"column":19},"source":"package/template.js","original":{"line":44,"column":19}},{"generated":{"line":43,"column":23},"source":"package/template.js","original":{"line":44,"column":18}},{"generated":{"line":43,"column":24},"source":"package/template.js","original":{"line":44,"column":15}},{"generated":{"line":43,"column":25},"source":"package/template.js","original":{"line":44,"column":2}},{"generated":{"line":44,"column":0},"source":"package/template.js","original":{"line":45,"column":1}},{"generated":{"line":44,"column":1},"source":"package/template.js","original":{"line":33,"column":0}},{"generated":{"line":44,"column":3},"source":"package/template.js","original":{"line":47,"column":0}},{"generated":{"line":49,"column":0},"source":"package/template.js","original":{"line":48,"column":0}},{"name":"template3","generated":{"line":49,"column":4},"source":"package/template.js","original":{"line":48,"column":6}},{"generated":{"line":49,"column":13},"source":"package/template.js","original":{"line":48,"column":15}},{"generated":{"line":49,"column":16},"source":"package/template.js","original":{"line":48,"column":18}},{"name":"template3","generated":{"line":49,"column":25},"source":"package/template.js","original":{"line":48,"column":6}},{"generated":{"line":49,"column":34},"source":"package/template.js","original":{"line":48,"column":18}},{"name":"str","generated":{"line":49,"column":35},"source":"package/template.js","original":{"line":48,"column":18}},{"generated":{"line":49,"column":38},"source":"package/template.js","original":{"line":48,"column":21}},{"generated":{"line":49,"column":40},"source":"package/template.js","original":{"line":48,"column":25}},{"generated":{"line":50,"column":0},"source":"package/template.js","original":{"line":49,"column":2}},{"name":"_str","generated":{"line":50,"column":6},"source":"package/template.js","original":{"line":49,"column":8}},{"generated":{"line":50,"column":10},"source":"package/template.js","original":{"line":49,"column":12}},{"name":"tagMin","generated":{"line":50,"column":13},"source":"package/template.js","original":{"line":49,"column":15}},{"generated":{"line":50,"column":19},"source":"package/template.js","original":{"line":49,"column":21}},{"name":"str","generated":{"line":50,"column":20},"source":"package/template.js","original":{"line":49,"column":22}},{"generated":{"line":50,"column":23},"source":"package/template.js","original":{"line":49,"column":21}},{"generated":{"line":50,"column":24},"source":"package/template.js","original":{"line":49,"column":2}},{"generated":{"line":52,"column":0},"source":"package/template.js","original":{"line":50,"column":2}},{"name":"fn","generated":{"line":52,"column":6},"source":"package/template.js","original":{"line":50,"column":8}},{"generated":{"line":52,"column":8},"source":"package/template.js","original":{"line":50,"column":10}},{"generated":{"line":52,"column":11},"source":"package/template.js","original":{"line":50,"column":13}},{"name":"Function","generated":{"line":52,"column":15},"source":"package/template.js","original":{"line":50,"column":17}},{"generated":{"line":52,"column":23},"source":"package/template.js","original":{"line":50,"column":13}},{"generated":{"line":52,"column":24},"source":"package/template.js","original":{"line":50,"column":26}},{"generated":{"line":52,"column":31},"source":"package/template.js","original":{"line":50,"column":13}},{"generated":{"line":52,"column":33},"source":"package/template.js","original":{"line":52,"column":4}},{"name":"_str","generated":{"line":52,"column":58},"source":"package/template.js","original":{"line":54,"column":4}},{"generated":{"line":52,"column":62},"source":"package/template.js","original":{"line":54,"column":8}},{"name":"replace","generated":{"line":52,"column":63},"source":"package/template.js","original":{"line":55,"column":7}},{"generated":{"line":52,"column":70},"source":"package/template.js","original":{"line":54,"column":4}},{"generated":{"line":52,"column":71},"source":"package/template.js","original":{"line":55,"column":15}},{"generated":{"line":52,"column":82},"source":"package/template.js","original":{"line":54,"column":4}},{"generated":{"line":52,"column":84},"source":"package/template.js","original":{"line":55,"column":28}},{"generated":{"line":52,"column":86},"source":"package/template.js","original":{"line":54,"column":4}},{"name":"replace","generated":{"line":52,"column":88},"source":"package/template.js","original":{"line":56,"column":7}},{"generated":{"line":52,"column":95},"source":"package/template.js","original":{"line":54,"column":4}},{"generated":{"line":52,"column":96},"source":"package/template.js","original":{"line":56,"column":15}},{"generated":{"line":52,"column":109},"source":"package/template.js","original":{"line":54,"column":4}},{"generated":{"line":52,"column":111},"source":"package/template.js","original":{"line":56,"column":30}},{"generated":{"line":52,"column":135},"source":"package/template.js","original":{"line":54,"column":4}},{"name":"replace","generated":{"line":52,"column":137},"source":"package/template.js","original":{"line":57,"column":7}},{"generated":{"line":52,"column":144},"source":"package/template.js","original":{"line":54,"column":4}},{"generated":{"line":52,"column":145},"source":"package/template.js","original":{"line":57,"column":15}},{"generated":{"line":52,"column":150},"source":"package/template.js","original":{"line":54,"column":4}},{"generated":{"line":52,"column":152},"source":"package/template.js","original":{"line":57,"column":22}},{"generated":{"line":52,"column":157},"source":"package/template.js","original":{"line":54,"column":4}},{"name":"replace","generated":{"line":52,"column":159},"source":"package/template.js","original":{"line":58,"column":7}},{"generated":{"line":52,"column":166},"source":"package/template.js","original":{"line":54,"column":4}},{"generated":{"line":52,"column":167},"source":"package/template.js","original":{"line":58,"column":15}},{"generated":{"line":52,"column":172},"source":"package/template.js","original":{"line":54,"column":4}},{"generated":{"line":52,"column":174},"source":"package/template.js","original":{"line":58,"column":21}},{"generated":{"line":52,"column":184},"source":"package/template.js","original":{"line":54,"column":4}},{"generated":{"line":52,"column":185},"source":"package/template.js","original":{"line":52,"column":4}},{"generated":{"line":52,"column":188},"source":"package/template.js","original":{"line":59,"column":6}},{"generated":{"line":52,"column":211},"source":"package/template.js","original":{"line":50,"column":13}},{"generated":{"line":52,"column":212},"source":"package/template.js","original":{"line":50,"column":2}},{"generated":{"line":53,"column":0},"source":"package/template.js","original":{"line":60,"column":2}},{"generated":{"line":53,"column":9},"source":"package/template.js","original":{"line":60,"column":9}},{"name":"data","generated":{"line":53,"column":19},"source":"package/template.js","original":{"line":60,"column":9}},{"generated":{"line":53,"column":23},"source":"package/template.js","original":{"line":60,"column":13}},{"generated":{"line":54,"column":0},"source":"package/template.js","original":{"line":60,"column":13}},{"name":"fn","generated":{"line":54,"column":11},"source":"package/template.js","original":{"line":60,"column":17}},{"generated":{"line":54,"column":13},"source":"package/template.js","original":{"line":60,"column":19}},{"name":"call","generated":{"line":54,"column":14},"source":"package/template.js","original":{"line":60,"column":20}},{"generated":{"line":54,"column":18},"source":"package/template.js","original":{"line":60,"column":17}},{"generated":{"line":54,"column":19},"source":"package/template.js","original":{"line":60,"column":25}},{"generated":{"line":54,"column":24},"source":"package/template.js","original":{"line":60,"column":17}},{"name":"data","generated":{"line":54,"column":26},"source":"package/template.js","original":{"line":60,"column":31}},{"generated":{"line":54,"column":30},"source":"package/template.js","original":{"line":60,"column":17}},{"generated":{"line":54,"column":31},"source":"package/template.js","original":{"line":60,"column":13}},{"generated":{"line":55,"column":0},"source":"package/template.js","original":{"line":60,"column":13}},{"generated":{"line":55,"column":3},"source":"package/template.js","original":{"line":60,"column":2}},{"generated":{"line":56,"column":0},"source":"package/template.js","original":{"line":61,"column":1}},{"generated":{"line":56,"column":1},"source":"package/template.js","original":{"line":48,"column":0}},{"generated":{"line":57,"column":0},"source":"package/template.js","original":{"line":63,"column":0}},{"generated":{"line":63,"column":0},"source":"package/template.js","original":{"line":70,"column":0}},{"generated":{"line":68,"column":0},"source":"package/template.js","original":{"line":71,"column":0}},{"name":"escapeChar","generated":{"line":68,"column":4},"source":"package/template.js","original":{"line":71,"column":6}},{"generated":{"line":68,"column":14},"source":"package/template.js","original":{"line":71,"column":16}},{"generated":{"line":68,"column":17},"source":"package/template.js","original":{"line":71,"column":19}},{"name":"escapeChar","generated":{"line":68,"column":26},"source":"package/template.js","original":{"line":71,"column":6}},{"generated":{"line":68,"column":36},"source":"package/template.js","original":{"line":71,"column":19}},{"name":"match","generated":{"line":68,"column":37},"source":"package/template.js","original":{"line":71,"column":28}},{"generated":{"line":68,"column":42},"source":"package/template.js","original":{"line":71,"column":19}},{"generated":{"line":68,"column":44},"source":"package/template.js","original":{"line":71,"column":35}},{"generated":{"line":69,"column":0},"source":"package/template.js","original":{"line":72,"column":2}},{"name":"escapes","generated":{"line":69,"column":6},"source":"package/template.js","original":{"line":72,"column":8}},{"generated":{"line":69,"column":13},"source":"package/template.js","original":{"line":72,"column":15}},{"generated":{"line":69,"column":16},"source":"package/template.js","original":{"line":72,"column":18}},{"generated":{"line":70,"column":0},"source":"package/template.js","original":{"line":73,"column":4}},{"generated":{"line":70,"column":9},"source":"package/template.js","original":{"line":73,"column":9}},{"generated":{"line":70,"column":12},"source":"package/template.js","original":{"line":72,"column":18}},{"generated":{"line":71,"column":0},"source":"package/template.js","original":{"line":74,"column":4}},{"generated":{"line":71,"column":10},"source":"package/template.js","original":{"line":74,"column":10}},{"generated":{"line":71,"column":14},"source":"package/template.js","original":{"line":72,"column":18}},{"generated":{"line":72,"column":0},"source":"package/template.js","original":{"line":75,"column":4}},{"generated":{"line":72,"column":10},"source":"package/template.js","original":{"line":75,"column":10}},{"generated":{"line":72,"column":13},"source":"package/template.js","original":{"line":72,"column":18}},{"generated":{"line":73,"column":0},"source":"package/template.js","original":{"line":76,"column":4}},{"generated":{"line":73,"column":10},"source":"package/template.js","original":{"line":76,"column":10}},{"generated":{"line":73,"column":13},"source":"package/template.js","original":{"line":72,"column":18}},{"generated":{"line":74,"column":0},"source":"package/template.js","original":{"line":77,"column":4}},{"generated":{"line":74,"column":14},"source":"package/template.js","original":{"line":77,"column":14}},{"generated":{"line":74,"column":21},"source":"package/template.js","original":{"line":72,"column":18}},{"generated":{"line":75,"column":0},"source":"package/template.js","original":{"line":77,"column":23}},{"generated":{"line":76,"column":0},"source":"package/template.js","original":{"line":78,"column":4}},{"generated":{"line":76,"column":14},"source":"package/template.js","original":{"line":78,"column":14}},{"generated":{"line":76,"column":21},"source":"package/template.js","original":{"line":72,"column":18}},{"generated":{"line":76,"column":22},"source":"package/template.js","original":{"line":78,"column":22}},{"generated":{"line":78,"column":0},"source":"package/template.js","original":{"line":72,"column":18}},{"generated":{"line":78,"column":3},"source":"package/template.js","original":{"line":72,"column":2}},{"generated":{"line":79,"column":0},"source":"package/template.js","original":{"line":80,"column":2}},{"generated":{"line":79,"column":9},"source":"package/template.js","original":{"line":80,"column":9}},{"name":"escapes","generated":{"line":79,"column":16},"source":"package/template.js","original":{"line":80,"column":16}},{"generated":{"line":79,"column":23},"source":"package/template.js","original":{"line":80,"column":23}},{"name":"match","generated":{"line":79,"column":24},"source":"package/template.js","original":{"line":80,"column":24}},{"generated":{"line":79,"column":29},"source":"package/template.js","original":{"line":80,"column":23}},{"generated":{"line":79,"column":30},"source":"package/template.js","original":{"line":80,"column":2}},{"generated":{"line":80,"column":0},"source":"package/template.js","original":{"line":81,"column":1}},{"generated":{"line":80,"column":1},"source":"package/template.js","original":{"line":71,"column":0}},{"generated":{"line":82,"column":0},"source":"package/template.js","original":{"line":83,"column":0}},{"name":"escapeRegExp","generated":{"line":82,"column":4},"source":"package/template.js","original":{"line":83,"column":6}},{"generated":{"line":82,"column":16},"source":"package/template.js","original":{"line":83,"column":18}},{"generated":{"line":82,"column":19},"source":"package/template.js","original":{"line":83,"column":21}},{"generated":{"line":82,"column":46},"source":"package/template.js","original":{"line":83,"column":0}},{"generated":{"line":84,"column":0},"source":"package/template.js","original":{"line":85,"column":0}},{"name":"replacer","generated":{"line":84,"column":9},"source":"package/template.js","original":{"line":85,"column":9}},{"generated":{"line":84,"column":17},"source":"package/template.js","original":{"line":85,"column":0}},{"name":"match","generated":{"line":84,"column":18},"source":"package/template.js","original":{"line":85,"column":18}},{"generated":{"line":84,"column":23},"source":"package/template.js","original":{"line":85,"column":0}},{"name":"p1","generated":{"line":84,"column":25},"source":"package/template.js","original":{"line":85,"column":25}},{"generated":{"line":84,"column":27},"source":"package/template.js","original":{"line":85,"column":0}},{"name":"p2","generated":{"line":84,"column":29},"source":"package/template.js","original":{"line":85,"column":29}},{"generated":{"line":84,"column":31},"source":"package/template.js","original":{"line":85,"column":0}},{"name":"p3","generated":{"line":84,"column":33},"source":"package/template.js","original":{"line":85,"column":33}},{"generated":{"line":84,"column":35},"source":"package/template.js","original":{"line":85,"column":0}},{"name":"offset","generated":{"line":84,"column":37},"source":"package/template.js","original":{"line":85,"column":37}},{"generated":{"line":84,"column":43},"source":"package/template.js","original":{"line":85,"column":0}},{"name":"string","generated":{"line":84,"column":45},"source":"package/template.js","original":{"line":85,"column":45}},{"generated":{"line":84,"column":51},"source":"package/template.js","original":{"line":85,"column":0}},{"generated":{"line":84,"column":53},"source":"package/template.js","original":{"line":85,"column":53}},{"generated":{"line":85,"column":0},"source":"package/template.js","original":{"line":86,"column":2}},{"generated":{"line":86,"column":0},"source":"package/template.js","original":{"line":87,"column":2}},{"generated":{"line":87,"column":0},"source":"package/template.js","original":{"line":88,"column":2}},{"generated":{"line":88,"column":0},"source":"package/template.js","original":{"line":89,"column":2}},{"generated":{"line":89,"column":0},"source":"package/template.js","original":{"line":90,"column":2}},{"generated":{"line":90,"column":0},"source":"package/template.js","original":{"line":91,"column":2}},{"generated":{"line":91,"column":0},"source":"package/template.js","original":{"line":92,"column":2}},{"generated":{"line":91,"column":9},"source":"package/template.js","original":{"line":92,"column":9}},{"name":"p1","generated":{"line":91,"column":10},"source":"package/template.js","original":{"line":92,"column":10}},{"generated":{"line":91,"column":12},"source":"package/template.js","original":{"line":92,"column":9}},{"name":"p2","generated":{"line":91,"column":14},"source":"package/template.js","original":{"line":92,"column":14}},{"generated":{"line":91,"column":16},"source":"package/template.js","original":{"line":92,"column":9}},{"name":"p3","generated":{"line":91,"column":18},"source":"package/template.js","original":{"line":92,"column":18}},{"generated":{"line":91,"column":20},"source":"package/template.js","original":{"line":92,"column":9}},{"name":"join","generated":{"line":91,"column":22},"source":"package/template.js","original":{"line":92,"column":22}},{"generated":{"line":91,"column":26},"source":"package/template.js","original":{"line":92,"column":9}},{"generated":{"line":91,"column":27},"source":"package/template.js","original":{"line":92,"column":27}},{"generated":{"line":91,"column":32},"source":"package/template.js","original":{"line":92,"column":9}},{"generated":{"line":91,"column":33},"source":"package/template.js","original":{"line":92,"column":2}},{"generated":{"line":92,"column":0},"source":"package/template.js","original":{"line":93,"column":1}},{"generated":{"line":94,"column":0},"source":"package/template.js","original":{"line":94,"column":0}},{"name":"newString","generated":{"line":94,"column":4},"source":"package/template.js","original":{"line":94,"column":6}},{"generated":{"line":94,"column":13},"source":"package/template.js","original":{"line":94,"column":15}},{"generated":{"line":94,"column":16},"source":"package/template.js","original":{"line":94,"column":18}},{"name":"replace","generated":{"line":94,"column":31},"source":"package/template.js","original":{"line":94,"column":33}},{"generated":{"line":94,"column":38},"source":"package/template.js","original":{"line":94,"column":18}},{"generated":{"line":94,"column":39},"source":"package/template.js","original":{"line":94,"column":41}},{"generated":{"line":94,"column":62},"source":"package/template.js","original":{"line":94,"column":18}},{"name":"replacer","generated":{"line":94,"column":64},"source":"package/template.js","original":{"line":94,"column":66}},{"generated":{"line":94,"column":72},"source":"package/template.js","original":{"line":94,"column":18}},{"generated":{"line":94,"column":73},"source":"package/template.js","original":{"line":94,"column":0}},{"generated":{"line":94,"column":75},"source":"package/template.js","original":{"line":94,"column":77}}],"sources":{"package/template.js":"// 将 %> 替换成 p.push('\n// 将 <% 替换成 ');\n// 将 <%=xxx%> 替换成 ');p.push(xxx);p.push('\n\n// var p = []; p.push('');\n// for ( var i = 0; i < users.length; i++ ) {\n//   p.push('<li><a href=\"');\n//   p.push(users[i].url);\n//   p.push('\">');\n//   p.push(users[i].name);\n//   p.push('</a></li>');\n// }\n// p.push('');\n\n// 压缩标签空格\nconst tagMin = str => str.replace(/(>)(\\s+)(\\w*)(\\s+)(<)/g, '$1$3$5');\n\n// eval 解析字符串\nconst template1 = (str, users) => {\n  let p = [];\n  const _str = \"p.push('\" + str\n        .replace(/[\\r\\t\\n]/g, \"\")\n        .replace(/<%=(.*?)%>/g, \"');p.push($1);p.push('\")\n        .replace(/<%/g, \"');\")\n        .replace(/%>/g,\"p.push('\")\n         + \"');\"\n  // 执行代码\n  eval(_str);\n  return tagMin(p.join(''))\n};\n\n// new Function 解析字符串\nconst template2 = (str, data) => {\n  const fn = new Function(\"users\",\n\n    \"var p = []; p.push('\" +\n\n    str\n      .replace(/[\\r\\t\\n]/g, \"\")\n      .replace(/<%=(.*?)%>/g, \"');p.push($1);p.push('\")\n      .replace(/<%/g, \"');\")\n      .replace(/%>/g,\"p.push('\")\n    + \"');return p.join('');\");\n  return tagMin(fn(data));\n};\n\n// 数据改变 new Function 只调用一次\nconst template3 = str => {\n  const _str = tagMin(str);\n  const fn = new Function(\"users\",\n\n    \"var p = []; p.push('\" +\n\n    _str\n      .replace(/[\\r\\t\\n]/g, \"\")\n      .replace(/<%=(.*?)%>/g, \"');p.push($1);p.push('\")\n      .replace(/<%/g, \"');\")\n      .replace(/%>/g,\"p.push('\")\n    + \"');return p.join('');\");\n  return data => fn.call(this, data)\n};\n\n/**\n * \"var a = '1\\n23';console.log(a)\".toString() ?\n * 在 Function 构造函数的实现中，首先会将函数体代码字符串进行一次 ToString\n * 字符串表达式中是不允许换行的 !\n * var log = new Function(\"var a = '1\\n23';console.log(a)\");log()\n */\n\n// 防toSting\nconst escapeChar = function(match) {\n  const escapes = {\n    \"'\": \"'\",\n    '\\\\': '\\\\',\n    '\\r': 'r',\n    '\\n': 'n',\n    '\\u2028': 'u2028', // 行分隔符\n    '\\u2029': 'u2029' // 段落分隔符\n  };\n  return '\\\\' + escapes[match];\n};\n\nconst escapeRegExp = /\\\\|'|\\r|\\n|\\u2028|\\u2029/g;\n\nfunction replacer(match, p1, p2, p3, offset, string) {\n  // match，表示匹配的子串 abc12345#$*%\n  // p1，第 1 个括号匹配的字符串 abc\n  // p2，第 2 个括号匹配的字符串 12345\n  // p3，第 3 个括号匹配的字符串 #$*%\n  // offset，匹配到的子字符串在原字符串中的偏移量 0\n  // string，被匹配的原字符串 abc12345#$*%\n  return [p1, p2, p3].join(' - ');\n}\nconst newString = 'abc12345#$*%'.replace(/([^\\d]*)(\\d*)([^\\w]*)/, replacer); // abc - 12345 - #$*%\n\nexport {\n  template1,\n  template2,\n  template3\n};\n"},"lineCount":null}},"error":null,"hash":"79a2ed8ba36348abf58aa723853bd0e9","cacheData":{"env":{}}}